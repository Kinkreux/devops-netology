# Домашнее задание к занятию "5.3. Контейнеризация на примере Docker"

---

## Задача 1 

---
Посмотрите на сценарий ниже и ответьте на вопрос:
"Подходит ли в этом сценарии использование докера? Или лучше подойдет виртуальная машина, физическая машина? Или возможны разные варианты?"

Детально опишите и обоснуйте свой выбор.

---

Сценарий:

- **Высоконагруженное монолитное java веб-приложение** - как сказал лектор, лучше бы на виртуалке; кроме того, что сказал лектор, а именно что не запустишь иначе разные версии на одной машине, приложение по условиям высоконагруженное - думаю, тут как раз и нужно иметь большую физическую машинку с кучей ресурсов, чтобы распределять их грамотно между виртуалками с приложением и иметь запас, чего не даст физическая машина; 
- **Go-микросервис для генерации отчетов** - контейнер отлично подойдет, микросервис - это как раз про контейнеры, как и язык Go, хотя я про него только слышала, удобно масштабировать, если отчеты сложные и их надо генерировать много сразу;
- **Nodejs веб-приложение** - контейнер отлично подойдет, как и сказао лектор : ) Насколько я знаю, Nodejs - это серверный фреймворк для описания бекенда, контейнеры легко позволяет его масштабировать в большую и меньшую сторону, по нагрузке;
- **Мобильное приложение c версиями для Android и iOS** - думаю, будет удобно делать контейнеры: под разные версии и билды, про специфику доставки до пользователя мобильных приложений ничего не знаю ,увы, хотя стек там вроде очень похож на web;
- **База данных postgresql используемая, как кэш** - как и сказал лектор, тут нужна физическая машина, чтобы отклик был в real-time;
- **Шина данных на базе Apache Kafka** - на сайте Kafka я нашла, что он(а?) работает как кластер серверов, ввиду чего могу предположить, что тут требуются виртуальные машины, т.к. их точно можно объединить в кластер, а можно ли контейнеры - я не знаю, в сеть - да, а в кластер? Кроме того, это система должна работать в real-time и быть очень высокопроизводительной и на запись, и на чтение, т.е. обращений к жесткому диску будет ОЧЕНЬ много, поэтому виртуальные машины могут и не прокатить, могут требоваться физические сервера в разных дата-центрах (для страховки), как и пишут на оф.сайте;
- **Очередь для Logstash на базе Redis** - как я поняла, redis тут работает как сервер очередей и прокси и позволяет обращаться не напрямую к сервису, а распределять запросы на кластер установок сервиса, а сам сервис logstash - это сервис для сбора и обработки логов, который даже умеет их визуализировать; я думаю, что сам Logstash может жить в контейнерах, потому что это не запись логов, а их сбор и обработка, хотя слово "кластер" меня тут смущает, а сам redis может быть в свою очередь контейнерами, виртуалками или даже физической машиной - в зависимости от требуемой скорости ответа;
- **Elastic stack для реализации логирования продуктивного веб-приложения** - три ноды elasticsearch, два logstash и две ноды kibana;
- **Мониторинг-стек на базе prometheus и grafana** - лектор сказал, что тут вроде бы контейнеры ок; если этот мониторинг не подразумевает прям live real-time, тогда да, иначе может иметь смысл даже физическая машина, хотя, вроде бы, для такого хардкорного real-time мониторинга эти системы не используются;
- **Mongodb, как основное хранилище данных для java-приложения** - тут нужна будет высокая скорость ответа по крайней мере на запись, плюс если я верно помню принцип работы MongpDB из следующих лекций, то там нужно несколько копий для корректной работы, в этом смысл, так что я бы, пожалуй, основное хранилище делала на кластере физических машин, чтобы обеспечить отличную запись и достойное чтение;
- **Jenkins-сервер** - если я правильно поняла, то Jenkins - это решение для автоматизации процесса сборки и проверки кода, причем прямо на официальном сайте написано про Docker-контейнер, так что думаю, что он прекрасно будет жить в контейнерах : ).

## Задача 2 

---

Сценарий выполения задачи:

- создайте свой репозиторий на докерхаб; 
- выберете любой образ, который содержит апачи веб-сервер;
- создайте свой форк образа;
- реализуйте функциональность: 
запуск веб-сервера в фоне с индекс-страницей, содержащей HTML-код ниже: 
```
<html>
<head>
Hey, Netology
</head>
<body>
<h1>I’m kinda DevOps now</h1>
</body>
</html>
```
Опубликуйте созданный форк в своем репозитории и предоставьте ответ в виде ссылки на докерхаб-репо.

_Задание в процессе_

## Задача 3 

---

- Запустите первый контейнер из образа centos c любым тэгом в фоновом режиме, подключив папку info из текущей рабочей директории на хостовой машине в /share/info контейнера;
- Запустите второй контейнер из образа debian:latest в фоновом режиме, подключив папку info из текущей рабочей директории на хостовой машине в /info контейнера;
- Подключитесь к первому контейнеру с помощью exec и создайте текстовый файл любого содержания в /share/info ;
- Добавьте еще один файл в папку info на хостовой машине;
- Подключитесь во второй контейнер и отобразите листинг и содержание файлов в /info контейнера.

**Тут у меня проблема: не могу запустить контейнер так, чтобы он остался работать. Все с exited (0). Прилагаю скриншот. Что тут нужно сделать?**

<img src="https://i.imgur.com/7fjSFbp.png"/>