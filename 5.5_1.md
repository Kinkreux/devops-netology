Домашнее задание к занятию "5.1. Основы виртуализации"

**Задача 1
Вкратце опишите, как вы поняли - в чем основное отличие паравиртуализации и виртуализации на основе ОС.**

При паравиртуализации есть гипервизор. Это в принципе аппаратная виртуализация с гипервизором, просто с дополнительной плюшкой: часть системных вызовов прокидывается мимо гипервизора напрямую ради увеличения скорости отклика. БОльшая часть устройств эмулирована внутри каждой виртуальной машины отдельно, там есть свое ядро, все свое. Каждую виртуальную машину надо настраивать и админить.

А виртуализация на основе ОС означает, что гипервизора нет, его роль выполняет демон, поставляемый вместе с ОС. Такой есть, например, во многих поставках линукс-подобных систем. Докер строится на базе средств виртуализации самой ОС, к примеру, он просто надстройка над средствами ОС. Я не уверена на 100%, но могу предположить, что, хотя специальные средства виртуализации ОС управляют контейнерами и их iops изолированы (я верно употребляю этот термин?), на самом деле каждый контейнер пользуется одинаковыми устройствами, эмулированными на уровне ОС. Кроме того, контейнеры ограничены той ОС, на которой поднимаются, потому что не имеют своего ядра и прочих настроек. Их не нужно админить.

**Задача 2
Выберите тип один из вариантов использования организации физических серверов, в зависимости от условий использования.**

Организация серверов:

- физические сервера
- паравиртуализация
- виртуализация уровня ОС

Условия использования:

1. **Высоконагруженная база данных, чувствительная к отказу** - физический сервер, потому что для базы данных крайне важна скорость чтения и записи, а любая виртуализация их режет.
2. **Различные Java-приложения** - я бы использовала виртуализацию уровня ОС, тот же Докер. Это позволит уменьшить размер хранимых образов и программ, в т.ч. версий Java и сопутствующего софта, упростит тестирование и масштабирование. При условии, что всекрутится на осной ОС.
3. **Windows системы для использования Бухгалтерским отделом** - я бы использовала Hyper-V, по-моему, это паравиртуализация на основе Винды, будет отличная совместимость и скорость, близкая к физическому серверу.
4. **Системы, выполняющие высокопроизводительные расчеты на GPU** - наверно, я бы использовала паравиртуализацию, потому что это позволяет распределить вычисления по разным машинам, но не сильно потерять в скорости iops.

Опишите, почему вы выбрали к каждому целевому использованию такую организацию.

**Задача 3
Как вы думаете, возможно ли совмещать несколько типов виртуализации на одном сервере? Приведите пример такого совмещения.**

Есть специализированная система VMWare, которая позволяет совмещать виртуализацию, скажем, Винды и Линукс-подобных систем на одном сервере.

У меня нет опыта системного администрирования, но я не могу придумать явных аргументов в пользу таких решений. Разве что пара случаев, которые приходят мне в голову, - быстро растущие организации, у которых уже увеличились потребности в мощностях и различном ПО, но ещё нет денег на раздельные сервера, и случай миграции с одной инфраструктуры на другую (скажем, с винды на линукс-подобное окружение). Наверно.

По-моему, в целом это чревато а) потерей производительности, потому что паравиртуализация частично или полностью недоступна, б) сложностями в администрировании, поддержке, могут быть конфликты (теоретически), в) очень дорого в плане совместимого железа, если говорить про VMWare. Я бы всеми силами избегала такой структуры.